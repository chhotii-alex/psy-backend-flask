import{S as W,i as B,s as L,C as Z,k as I,a as Q,l as N,m as E,c as X,h as _,n as d,J as _e,b as k,G as m,D as $,E as x,F as ee,v as Y,d as w,f as G,g as y,o as ie,w as Ce,e as T,q as g,r as v,u as z,H as b,K as Me,L as te,M as ce,N as ue,O as U,P as J,t as He,Q as De,R as V,T as R,y as j,z as H,A as O,B as K,U as Oe,V as Ke,W as de}from"../chunks/index.563d02af.js";const Ve=r=>({isFull:r&1,exitFullscreen:r&8}),he=r=>({isFull:r[0],fsToggle:r[5],exitFullscreen:r[3],requestFullscreen:r[4]}),We=r=>({isFull:r&1,exitFullscreen:r&8}),me=r=>({isFull:r[0],fsToggle:r[5],exitFullscreen:r[3],requestFullscreen:r[4]}),Be=r=>({isFull:r&1,exitFullscreen:r&8}),ke=r=>({isFull:r[0],fsToggle:r[5],exitFullscreen:r[3],requestFullscreen:r[4]}),Le=r=>({isFull:r&1,exitFullscreen:r&8}),be=r=>({isFull:r[0],fsToggle:r[5],exitFullscreen:r[3],requestFullscreen:r[4]});function Ue(r){let e;const l=r[7].no_fullscreen_support,t=Z(l,r,r[6],he);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,s){t&&t.m(n,s),e=!0},p(n,s){t&&t.p&&(!e||s&73)&&$(t,l,n,n[6],e?ee(l,n[6],s,Ve):x(n[6]),he)},i(n){e||(y(t,n),e=!0)},o(n){w(t,n),e=!1},d(n){t&&t.d(n)}}}function Je(r){let e,l,t,n;const s=[Ge,Ye],o=[];function c(i,u){return i[0]?0:1}return e=c(r),l=o[e]=s[e](r),{c(){l.c(),t=T()},l(i){l.l(i),t=T()},m(i,u){o[e].m(i,u),k(i,t,u),n=!0},p(i,u){let a=e;e=c(i),e===a?o[e].p(i,u):(Y(),w(o[a],1,1,()=>{o[a]=null}),G(),l=o[e],l?l.p(i,u):(l=o[e]=s[e](i),l.c()),y(l,1),l.m(t.parentNode,t))},i(i){n||(y(l),n=!0)},o(i){w(l),n=!1},d(i){o[e].d(i),i&&_(t)}}}function Ye(r){let e;const l=r[7].if_fullscreen_support,t=Z(l,r,r[6],me);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,s){t&&t.m(n,s),e=!0},p(n,s){t&&t.p&&(!e||s&73)&&$(t,l,n,n[6],e?ee(l,n[6],s,We):x(n[6]),me)},i(n){e||(y(t,n),e=!0)},o(n){w(t,n),e=!1},d(n){t&&t.d(n)}}}function Ge(r){let e;const l=r[7].already_fullscreen,t=Z(l,r,r[6],ke);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,s){t&&t.m(n,s),e=!0},p(n,s){t&&t.p&&(!e||s&73)&&$(t,l,n,n[6],e?ee(l,n[6],s,Be):x(n[6]),ke)},i(n){e||(y(t,n),e=!0)},o(n){w(t,n),e=!1},d(n){t&&t.d(n)}}}function Re(r){let e,l,t,n,s;const o=r[7].default,c=Z(o,r,r[6],be),i=[Je,Ue],u=[];function a(f,h){return f[2]?0:1}return t=a(r),n=u[t]=i[t](r),{c(){e=I("div"),c&&c.c(),l=Q(),n.c(),this.h()},l(f){e=N(f,"DIV",{class:!0});var h=E(e);c&&c.l(h),l=X(h),n.l(h),h.forEach(_),this.h()},h(){d(e,"class","fs svelte-1r2voai"),_e(e,"isFull",r[0])},m(f,h){k(f,e,h),c&&c.m(e,null),m(e,l),u[t].m(e,null),r[8](e),s=!0},p(f,[h]){c&&c.p&&(!s||h&73)&&$(c,o,f,f[6],s?ee(o,f[6],h,Le):x(f[6]),be);let M=t;t=a(f),t===M?u[t].p(f,h):(Y(),w(u[M],1,1,()=>{u[M]=null}),G(),n=u[t],n?n.p(f,h):(n=u[t]=i[t](f),n.c()),y(n,1),n.m(e,null)),(!s||h&1)&&_e(e,"isFull",f[0])},i(f){s||(y(c,f),y(n),s=!0)},o(f){w(c,f),w(n),s=!1},d(f){f&&_(e),c&&c.d(f),u[t].d(),r[8](null)}}}function Ae(r){return r.fullScreen||r.mozFullScreen||r.webkitIsFullScreen||r.msFullScreenElement||r.msFullscreenElement}function Qe(r,e,l){let{$$slots:t={},$$scope:n}=e,s=!1,o=null;const c=()=>{};function i(p){Ae(document)?l(0,s=!0):l(0,s=!1)}let u;function a(p){return p.addEventListener?(p.addEventListener("fullscreenchange",i),p.addEventListener("mozfullscreenchange",i),p.addEventListener("webkitfullscreenchange",i),p.addEventListener("msfullscreenchange",i),p.addEventListener("MSFullscreenChange",i)):p.attachEvent("fullscreenchange",i),!!(p.fullscreenEnabled||p.webkitFullscreenEnabled||p.mozFullScreenEnabled||p.msFullscreenEnabled)}let f;function h(p){return(p.exitFullscreen||p.mozCancelFullScreen||p.webkitExitFullscreen||p.msExitFullscreen||c).bind(p)}const M=()=>{(o.requestFullscreen||o.mozRequestFullScreen||o.webkitRequestFullscreen||o.msRequestFullscreen||c).bind(o)()};ie(()=>{l(2,u=a(document)),l(3,f=h(document))});const F=()=>{u&&(s?f():M())};function D(p){Ce[p?"unshift":"push"](()=>{o=p,l(1,o)})}return r.$$set=p=>{"$$scope"in p&&l(6,n=p.$$scope)},[s,o,u,f,M,F,n,t,D]}class Xe extends W{constructor(e){super(),B(this,e,Qe,Re,L,{})}}function Ze(r){let e,l,t,n,s,o;return{c(){e=I("div"),l=I("h1"),t=g(`I'm sorry, an error has occurred.
      `),n=I("em"),s=g(r[0]),o=g(`
      Please hit the Esc key to end the task,
      and notify study staff.`),this.h()},l(c){e=N(c,"DIV",{class:!0});var i=E(e);l=N(i,"H1",{});var u=E(l);t=v(u,`I'm sorry, an error has occurred.
      `),n=N(u,"EM",{});var a=E(n);s=v(a,r[0]),a.forEach(_),o=v(u,`
      Please hit the Esc key to end the task,
      and notify study staff.`),u.forEach(_),i.forEach(_),this.h()},h(){d(e,"class","svelte-1rnx6ua")},m(c,i){k(c,e,i),m(e,l),m(l,t),m(l,n),m(n,s),m(l,o)},p(c,[i]){i&1&&z(s,c[0])},i:b,o:b,d(c){c&&_(e)}}}function $e(r,e,l){let{message:t}=e;return r.$$set=n=>{"message"in n&&l(0,t=n.message)},[t]}class ae extends W{constructor(e){super(),B(this,e,$e,Ze,L,{message:0})}}function xe(r){let e,l,t,n;return{c(){e=I("div"),l=I("h1"),t=I("em"),n=g("Saving..."),this.h()},l(s){e=N(s,"DIV",{class:!0});var o=E(e);l=N(o,"H1",{});var c=E(l);t=N(c,"EM",{});var i=E(t);n=v(i,"Saving..."),i.forEach(_),c.forEach(_),o.forEach(_),this.h()},h(){d(e,"class","svelte-1gadyih")},m(s,o){k(s,e,o),m(e,l),m(l,t),m(t,n)},p:b,i:b,o:b,d(s){s&&_(e)}}}class ze extends W{constructor(e){super(),B(this,e,null,xe,L,{})}}function oe(r,e){const l=setInterval(r,e);Me(()=>{clearInterval(l)})}const se=(r,e,l)=>Array.from({length:(e-r)/l+1},(t,n)=>r+n*l),je=r=>new Promise(e=>setTimeout(e,r)),re=r=>je(r*1e3);function pe(r){let e,l,t,n;return{c(){e=I("p"),l=g("Press "),t=g(r[0]),n=g(" to continue."),this.h()},l(s){e=N(s,"P",{class:!0});var o=E(e);l=v(o,"Press "),t=v(o,r[0]),n=v(o," to continue."),o.forEach(_),this.h()},h(){d(e,"class","bottom svelte-5v9x96")},m(s,o){k(s,e,o),m(e,l),m(e,t),m(e,n)},p(s,o){o&1&&z(t,s[0])},d(s){s&&_(e)}}}function et(r){let e,l,t,n,s;const o=r[7].default,c=Z(o,r,r[6],null);let i=r[1]&&pe(r);return{c(){e=I("div"),c&&c.c(),l=Q(),i&&i.c(),this.h()},l(u){e=N(u,"DIV",{class:!0});var a=E(e);c&&c.l(a),l=X(a),i&&i.l(a),a.forEach(_),this.h()},h(){d(e,"class","svelte-5v9x96")},m(u,a){k(u,e,a),c&&c.m(e,null),m(e,l),i&&i.m(e,null),t=!0,n||(s=te(window,"keydown",r[2]),n=!0)},p(u,[a]){c&&c.p&&(!t||a&64)&&$(c,o,u,u[6],t?ee(o,u[6],a,null):x(u[6]),null),u[1]?i?i.p(u,a):(i=pe(u),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i(u){t||(y(c,u),t=!0)},o(u){w(c,u),t=!1},d(u){u&&_(e),c&&c.d(u),i&&i.d(),n=!1,s()}}}function tt(r,e,l){let t,n,{$$slots:s={},$$scope:o}=e,{requiredKeyPattern:c="1"}=e,{minMilliseconds:i=1e3}=e,{done:u}=e;function a(F){return l(1,n=!1),new Date}let f=0;oe(()=>{l(5,f++,f)},i);function h(F){return new Date().getTime()-t.getTime()>=i}function M(F){F.key==c&&n&&u(F.timeStamp)}return r.$$set=F=>{"requiredKeyPattern"in F&&l(0,c=F.requiredKeyPattern),"minMilliseconds"in F&&l(3,i=F.minMilliseconds),"done"in F&&l(4,u=F.done),"$$scope"in F&&l(6,o=F.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&(t=a()),r.$$.dirty&32&&l(1,n=h())},[c,n,M,i,u,f,o,s]}class nt extends W{constructor(e){super(),B(this,e,tt,et,L,{requiredKeyPattern:0,minMilliseconds:3,done:4})}}function lt(r){let e,l;return{c(){e=I("div"),this.h()},l(t){e=N(t,"DIV",{style:!0,class:!0}),E(e).forEach(_),this.h()},h(){d(e,"style",l=`background-color:${r[0]}`),d(e,"class","svelte-19ebyhb")},m(t,n){k(t,e,n)},p(t,[n]){n&1&&l!==(l=`background-color:${t[0]}`)&&d(e,"style",l)},i:b,o:b,d(t){t&&_(e)}}}function st(r,e,l){let{color:t="red"}=e;return r.$$set=n=>{"color"in n&&l(0,t=n.color)},[t]}class rt extends W{constructor(e){super(),B(this,e,st,lt,L,{color:0})}}function ge(r){let e,l,t,n,s,o=r[3]>=4&&ve(r);return{c(){e=U("svg"),l=U("text"),t=g(r[0]),o&&o.c(),this.h()},l(c){e=J(c,"svg",{class:!0});var i=E(e);l=J(i,"text",{fill:!0,x:!0,y:!0,"text-anchor":!0,class:!0});var u=E(l);t=v(u,r[0]),u.forEach(_),o&&o.l(i),i.forEach(_),this.h()},h(){d(l,"fill","white"),d(l,"x",n=r[1]/2),d(l,"y",s=r[2]/4),d(l,"text-anchor","middle"),d(l,"class","svelte-1oo7rf"),d(e,"class","svelte-1oo7rf")},m(c,i){k(c,e,i),m(e,l),m(l,t),o&&o.m(e,null)},p(c,i){i&1&&z(t,c[0]),i&2&&n!==(n=c[1]/2)&&d(l,"x",n),i&4&&s!==(s=c[2]/4)&&d(l,"y",s),c[3]>=4?o?o.p(c,i):(o=ve(c),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(c){c&&_(e),o&&o.d()}}}function ve(r){let e,l=r[4][r[3]]+"",t,n,s;return{c(){e=U("text"),t=g(l),this.h()},l(o){e=J(o,"text",{fill:!0,x:!0,y:!0,"text-anchor":!0,class:!0});var c=E(e);t=v(c,l),c.forEach(_),this.h()},h(){d(e,"fill","white"),d(e,"x",n=r[1]/2),d(e,"y",s=r[2]/2),d(e,"text-anchor","middle"),d(e,"class","svelte-1oo7rf")},m(o,c){k(o,e,c),m(e,t)},p(o,c){c&8&&l!==(l=o[4][o[3]]+"")&&z(t,l),c&2&&n!==(n=o[1]/2)&&d(e,"x",n),c&4&&s!==(s=o[2]/2)&&d(e,"y",s)},d(o){o&&_(e)}}}function ot(r){let e,l,t=r[1]&&ge(r);return{c(){e=I("div"),t&&t.c(),this.h()},l(n){e=N(n,"DIV",{class:!0});var s=E(e);t&&t.l(s),s.forEach(_),this.h()},h(){d(e,"class","svelte-1oo7rf"),ce(()=>r[8].call(e))},m(n,s){k(n,e,s),t&&t.m(e,null),l=ue(e,r[8].bind(e))},p(n,[s]){n[1]?t?t.p(n,s):(t=ge(n),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:b,o:b,d(n){n&&_(e),t&&t.d(),l()}}}function it(r,e,l){let{sequence:t="41324"}=e,{countdownSeconds:n=30}=e,{done:s=()=>{}}=e,{beep:o}=e,c=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen","twenty","twenty-one","twenty-two","twenty-three","twenty-four","twenty-five","twenty-six","twenty-seven","twenty-eight","twenty-nine","thirty"],i,u,a=n;oe(()=>{a>0?(l(3,a--,a),a<4&&o.play()):s()},1e3);function f(){i=this.clientWidth,u=this.clientHeight,l(1,i),l(2,u)}return r.$$set=h=>{"sequence"in h&&l(0,t=h.sequence),"countdownSeconds"in h&&l(5,n=h.countdownSeconds),"done"in h&&l(6,s=h.done),"beep"in h&&l(7,o=h.beep)},[t,i,u,a,c,n,s,o,f]}class ct extends W{constructor(e){super(),B(this,e,it,ot,L,{sequence:0,countdownSeconds:5,done:6,beep:7})}}function ut(r,e,l){let{func:t}=e;return ie(()=>t()),r.$$set=n=>{"func"in n&&l(0,t=n.func)},[t]}class at extends W{constructor(e){super(),B(this,e,ut,null,L,{func:0})}}const ne="https://octopus-app-8dfwr.ondigitalocean.app/";async function ft(r,e){if(!r)return!1;e=e.trim();const l=`${ne}checkToken`,s=await(await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({access_token:e})})).json();if(s.token!=e)throw new Error("Glitch! Error code: 101");return s.isValid}async function _t(r){const e=`${ne}session`;return await(await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({access_token:r,sequence:"41324"})})).json()}async function dt(r,e){const l=`${ne}trial`;return await(await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:r,blockNumber:e})})).json()}async function ht(r,e,l){const t=`${ne}keys`,s=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trialId:r,receiptId:e,keys:l})});if(!s.ok)throw new Error("Unsuccessful save request");return await s.json()}async function mt(r,e){const l=`${ne}session/timestamp`;if(!(await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:r,timeStamp:e})})).ok)throw new Error("Unsuccessful request")}function ye(r,e,l){const t=r.slice();return t[16]=e[l],t}function we(r){let e,l,t,n,s,o=se(0,r[3]-1,1),c=[];for(let i=0;i<o.length;i+=1)c[i]=Ee(ye(r,o,i));return{c(){e=U("svg"),l=U("text"),t=g(r[0]);for(let i=0;i<c.length;i+=1)c[i].c();this.h()},l(i){e=J(i,"svg",{class:!0});var u=E(e);l=J(u,"text",{fill:!0,x:!0,y:!0,"text-anchor":!0,class:!0});var a=E(l);t=v(a,r[0]),a.forEach(_);for(let f=0;f<c.length;f+=1)c[f].l(u);u.forEach(_),this.h()},h(){d(l,"fill","white"),d(l,"x",n=r[1]/2),d(l,"y",s=r[2]/4),d(l,"text-anchor","middle"),d(l,"class","svelte-1gsncwa"),d(e,"class","svelte-1gsncwa")},m(i,u){k(i,e,u),m(e,l),m(l,t);for(let a=0;a<c.length;a+=1)c[a]&&c[a].m(e,null)},p(i,u){if(u&1&&z(t,i[0]),u&2&&n!==(n=i[1]/2)&&d(l,"x",n),u&4&&s!==(s=i[2]/4)&&d(l,"y",s),u&28){o=se(0,i[3]-1,1);let a;for(a=0;a<o.length;a+=1){const f=ye(i,o,a);c[a]?c[a].p(f,u):(c[a]=Ee(f),c[a].c(),c[a].m(e,null))}for(;a<c.length;a+=1)c[a].d(1);c.length=o.length}},d(i){i&&_(e),De(c,i)}}}function Ee(r){let e,l,t,n;return{c(){e=U("circle"),this.h()},l(s){e=J(s,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),E(e).forEach(_),this.h()},h(){d(e,"cx",l=(r[16]+.5)*r[4]),d(e,"cy",t=r[2]/2),d(e,"r",n=r[4]/2-4),d(e,"fill","white")},m(s,o){k(s,e,o)},p(s,o){o&24&&l!==(l=(s[16]+.5)*s[4])&&d(e,"cx",l),o&4&&t!==(t=s[2]/2)&&d(e,"cy",t),o&16&&n!==(n=s[4]/2-4)&&d(e,"r",n)},d(s){s&&_(e)}}}function kt(r){let e,l,t,n,s=r[4]&&we(r);return{c(){e=I("div"),s&&s.c(),this.h()},l(o){e=N(o,"DIV",{class:!0});var c=E(e);s&&s.l(c),c.forEach(_),this.h()},h(){d(e,"class","svelte-1gsncwa"),ce(()=>r[10].call(e))},m(o,c){k(o,e,c),s&&s.m(e,null),l=ue(e,r[10].bind(e)),t||(n=te(window,"keydown",r[5]),t=!0)},p(o,[c]){o[4]?s?s.p(o,c):(s=we(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:b,o:b,d(o){o&&_(e),s&&s.d(),l(),t=!1,n()}}}function bt(r){const e=Math.floor(Math.random()*r);return r*2-e}function pt(r,e,l){let t,{maxDots:n=12}=e,{sequence:s="41324"}=e,{blockNumber:o}=e,{trialId:c}=e,{promiseHolder:i}=e,u,a;function f(){if(h.length){let C=S(M++,h);l(6,i.savePromises=Promise.all([i.savePromises,C]),i),h=[]}}oe(()=>{f()},5e3),Me(()=>{f(),l(6,i.savePromises=Promise.all([i.savePromises,He()]),i)});let h=[],M=1,F=0,D=1;function p(C){C.repeat||(h.push({key:C.key,timeStamp:C.timeStamp}),l(3,F+=D),F>=n?D=-1:F<=0&&(D=1))}async function S(C,le){if(!le.length)return C;let A=1;for(let q=0;q<25;++q){console.log(C,q);try{if((await ht(c,C,le)).receiptId==C)return C;throw new Error("Malformed from server: incorrect receiptId")}catch(fe){console.log("Caught error for:",C),console.log(fe)}A=bt(A),console.log(`Try interval for ${C}: ${A}`),await je(A)}throw new Error("Could not save data.")}function P(){u=this.clientWidth,a=this.clientHeight,l(1,u),l(2,a)}return r.$$set=C=>{"maxDots"in C&&l(7,n=C.maxDots),"sequence"in C&&l(0,s=C.sequence),"blockNumber"in C&&l(8,o=C.blockNumber),"trialId"in C&&l(9,c=C.trialId),"promiseHolder"in C&&l(6,i=C.promiseHolder)},r.$$.update=()=>{r.$$.dirty&130&&l(4,t=u/n)},[s,u,a,F,t,p,i,n,o,c,P]}class gt extends W{constructor(e){super(),B(this,e,pt,kt,L,{maxDots:7,sequence:0,blockNumber:8,trialId:9,promiseHolder:6})}}function vt(r){return{c:b,l:b,m:b,p:b,i:b,o:b,d:b}}function yt(r){let e,l,t,n={ctx:r,current:null,token:null,hasCatch:!0,pending:qt,then:Et,catch:wt,value:9,error:12,blocks:[,,,]};return V(l=r[5],n),{c(){e=T(),n.block.c()},l(s){e=T(),n.block.l(s)},m(s,o){k(s,e,o),n.block.m(s,n.anchor=o),n.mount=()=>e.parentNode,n.anchor=e,t=!0},p(s,o){r=s,n.ctx=r,o&32&&l!==(l=r[5])&&V(l,n)||R(n,r,o)},i(s){t||(y(n.block),t=!0)},o(s){for(let o=0;o<3;o+=1){const c=n.blocks[o];w(c)}t=!1},d(s){s&&_(e),n.block.d(s),n.token=null,n=null}}}function wt(r){let e,l;return e=new ae({props:{message:r[12].message}}),{c(){j(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const s={};n&32&&(s.message=t[12].message),e.$set(s)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function Et(r){let e,l,t,n={ctx:r,current:null,token:null,hasCatch:!1,pending:Nt,then:St,catch:Tt,value:10,blocks:[,,,]};return V(l=re(r[2]),n),{c(){e=T(),n.block.c()},l(s){e=T(),n.block.l(s)},m(s,o){k(s,e,o),n.block.m(s,n.anchor=o),n.mount=()=>e.parentNode,n.anchor=e,t=!0},p(s,o){r=s,n.ctx=r,o&4&&l!==(l=re(r[2]))&&V(l,n)||R(n,r,o)},i(s){t||(y(n.block),t=!0)},o(s){for(let o=0;o<3;o+=1){const c=n.blocks[o];w(c)}t=!1},d(s){s&&_(e),n.block.d(s),n.token=null,n=null}}}function Tt(r){return{c:b,l:b,m:b,p:b,i:b,o:b,d:b}}function St(r){let e,l,t={ctx:r,current:null,token:null,hasCatch:!0,pending:It,then:Pt,catch:Ft,value:11,error:12,blocks:[,,,]};return V(r[6].savePromises,t),{c(){e=T(),t.block.c()},l(n){e=T(),t.block.l(n)},m(n,s){k(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,s){r=n,R(t,r,s)},i(n){l||(y(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];w(o)}l=!1},d(n){n&&_(e),t.block.d(n),t.token=null,t=null}}}function Ft(r){let e,l;return e=new ae({props:{message:`Could not save data: ${r[12].message}`}}),{c(){j(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p:b,i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function Pt(r){let e,l;return e=new at({props:{func:r[0]}}),{c(){j(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const s={};n&1&&(s.func=t[0]),e.$set(s)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function It(r){let e,l;return e=new ze({}),{c(){j(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p:b,i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function Nt(r){let e,l;return e=new gt({props:{promiseHolder:r[6],blockNumber:r[3],trialId:r[9].id}}),{c(){j(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const s={};n&8&&(s.blockNumber=t[3]),n&32&&(s.trialId=t[9].id),e.$set(s)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function qt(r){let e,l;return e=new rt({props:{color:"red"}}),{c(){j(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p:b,i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function Ct(r){let e,l;return e=new ct({props:{countdownSeconds:r[1],beep:r[4]}}),{c(){j(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const s={};n&2&&(s.countdownSeconds=t[1]),n&16&&(s.beep=t[4]),e.$set(s)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function Mt(r){let e,l,t,n={ctx:r,current:null,token:null,hasCatch:!1,pending:Ct,then:yt,catch:vt,value:8,blocks:[,,,]};return V(l=re(r[1]),n),{c(){e=T(),n.block.c()},l(s){e=T(),n.block.l(s)},m(s,o){k(s,e,o),n.block.m(s,n.anchor=o),n.mount=()=>e.parentNode,n.anchor=e,t=!0},p(s,[o]){r=s,n.ctx=r,o&2&&l!==(l=re(r[1]))&&V(l,n)||R(n,r,o)},i(s){t||(y(n.block),t=!0)},o(s){for(let o=0;o<3;o+=1){const c=n.blocks[o];w(c)}t=!1},d(s){s&&_(e),n.block.d(s),n.token=null,n=null}}}function Dt(r,e,l){let{done:t}=e,{countdownSeconds:n=30}=e,{onSeconds:s=30}=e,{blockNumber:o}=e,{beep:c}=e,{sessionId:i}=e,u;ie(()=>{l(5,u=dt(i,o))});let a={savePromises:Promise.all([])};return r.$$set=f=>{"done"in f&&l(0,t=f.done),"countdownSeconds"in f&&l(1,n=f.countdownSeconds),"onSeconds"in f&&l(2,s=f.onSeconds),"blockNumber"in f&&l(3,o=f.blockNumber),"beep"in f&&l(4,c=f.beep),"sessionId"in f&&l(7,i=f.sessionId)},[t,n,s,o,c,u,a,i]}class zt extends W{constructor(e){super(),B(this,e,Dt,Mt,L,{done:0,countdownSeconds:1,onSeconds:2,blockNumber:3,beep:4,sessionId:7})}}function Te(r){let e,l,t,n,s,o,c,i,u;return{c(){e=U("svg"),l=U("text"),t=g(`Thank you!
    `),o=U("text"),c=g("Hit the Escape key to exit."),this.h()},l(a){e=J(a,"svg",{class:!0});var f=E(e);l=J(f,"text",{fill:!0,x:!0,y:!0,"text-anchor":!0,class:!0});var h=E(l);t=v(h,`Thank you!
    `),h.forEach(_),o=J(f,"text",{fill:!0,x:!0,y:!0,"text-anchor":!0,class:!0});var M=E(o);c=v(M,"Hit the Escape key to exit."),M.forEach(_),f.forEach(_),this.h()},h(){d(l,"fill","yellow"),d(l,"x",n=r[0]/2),d(l,"y",s=r[1]/2),d(l,"text-anchor","middle"),d(l,"class","svelte-1lphzem"),d(o,"fill","yellow"),d(o,"x",i=r[0]/2),d(o,"y",u=r[1]/4),d(o,"text-anchor","middle"),d(o,"class","svelte-1lphzem"),d(e,"class","svelte-1lphzem")},m(a,f){k(a,e,f),m(e,l),m(l,t),m(e,o),m(o,c)},p(a,f){f&1&&n!==(n=a[0]/2)&&d(l,"x",n),f&2&&s!==(s=a[1]/2)&&d(l,"y",s),f&1&&i!==(i=a[0]/2)&&d(o,"x",i),f&2&&u!==(u=a[1]/4)&&d(o,"y",u)},d(a){a&&_(e)}}}function jt(r){let e,l,t=r[0]&&Te(r);return{c(){e=I("div"),t&&t.c(),this.h()},l(n){e=N(n,"DIV",{class:!0});var s=E(e);t&&t.l(s),s.forEach(_),this.h()},h(){d(e,"class","svelte-1lphzem"),ce(()=>r[4].call(e))},m(n,s){k(n,e,s),t&&t.m(e,null),l=ue(e,r[4].bind(e))},p(n,[s]){n[0]?t?t.p(n,s):(t=Te(n),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:b,o:b,d(n){n&&_(e),t&&t.d(),l()}}}function Ht(r,e,l){let{done:t}=e,{seconds:n=300}=e,s,o,c=new Date;oe(()=>{(new Date().getTime()-c.getTime())/1e3>=n&&t()},1e3);function i(){s=this.clientWidth,o=this.clientHeight,l(0,s),l(1,o)}return r.$$set=u=>{"done"in u&&l(2,t=u.done),"seconds"in u&&l(3,n=u.seconds)},[s,o,t,n,i]}class Ot extends W{constructor(e){super(),B(this,e,Ht,jt,L,{done:2,seconds:3})}}function Se(r,e,l){const t=r.slice();return t[20]=e[l],t}function Kt(r){let e,l;return{c(){e=I("em"),l=g("task paused")},l(t){e=N(t,"EM",{});var n=E(e);l=v(n,"task paused"),n.forEach(_)},m(t,n){k(t,e,n),m(e,l)},p:b,i:b,o:b,d(t){t&&_(e)}}}function Vt(r){let e,l,t,n;const s=[Lt,Bt,Wt],o=[];function c(i,u){return i[7]<3?0:i[8]<=i[5]?1:2}return e=c(r),l=o[e]=s[e](r),{c(){l.c(),t=T()},l(i){l.l(i),t=T()},m(i,u){o[e].m(i,u),k(i,t,u),n=!0},p(i,u){let a=e;e=c(i),e===a?o[e].p(i,u):(Y(),w(o[a],1,1,()=>{o[a]=null}),G(),l=o[e],l?l.p(i,u):(l=o[e]=s[e](i),l.c()),y(l,1),l.m(t.parentNode,t))},i(i){n||(y(l),n=!0)},o(i){w(l),n=!1},d(i){o[e].d(i),i&&_(t)}}}function Wt(r){let e,l;return e=new Ot({props:{done:r[15]}}),{c(){j(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p:b,i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function Bt(r){let e,l,t,n={ctx:r,current:null,token:null,hasCatch:!0,pending:Yt,then:Jt,catch:Ut,value:19,error:23,blocks:[,,,]};return V(l=r[10],n),{c(){e=T(),n.block.c()},l(s){e=T(),n.block.l(s)},m(s,o){k(s,e,o),n.block.m(s,n.anchor=o),n.mount=()=>e.parentNode,n.anchor=e,t=!0},p(s,o){r=s,n.ctx=r,o&1024&&l!==(l=r[10])&&V(l,n)||R(n,r,o)},i(s){t||(y(n.block),t=!0)},o(s){for(let o=0;o<3;o+=1){const c=n.blocks[o];w(c)}t=!1},d(s){s&&_(e),n.block.d(s),n.token=null,n=null}}}function Lt(r){let e,l;return e=new nt({props:{done:r[13],minMilliseconds:1e3,requiredKeyPattern:r[7]+1,$$slots:{default:[Gt]},$$scope:{ctx:r}}}),{c(){j(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const s={};n&128&&(s.requiredKeyPattern=t[7]+1),n&16777406&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function Ut(r){let e,l;return e=new ae({props:{message:"could not start session on server"}}),{c(){j(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p:b,i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function Jt(r){let e,l,t=se(1,r[5],1),n=[];for(let o=0;o<t.length;o+=1)n[o]=Pe(Se(r,t,o));const s=o=>w(n[o],1,1,()=>{n[o]=null});return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=T()},l(o){for(let c=0;c<n.length;c+=1)n[c].l(o);e=T()},m(o,c){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(o,c);k(o,e,c),l=!0},p(o,c){if(c&21344){t=se(1,o[5],1);let i;for(i=0;i<t.length;i+=1){const u=Se(o,t,i);n[i]?(n[i].p(u,c),y(n[i],1)):(n[i]=Pe(u),n[i].c(),y(n[i],1),n[i].m(e.parentNode,e))}for(Y(),i=t.length;i<n.length;i+=1)s(i);G()}},i(o){if(!l){for(let c=0;c<t.length;c+=1)y(n[c]);l=!0}},o(o){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)w(n[c]);l=!1},d(o){De(n,o),o&&_(e)}}}function Fe(r){let e,l;return e=new zt({props:{countdownSeconds:r[12],done:r[14],sessionId:r[6],blockNumber:r[8],beep:r[9]}}),{c(){j(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const s={};n&4096&&(s.countdownSeconds=t[12]),n&64&&(s.sessionId=t[6]),n&256&&(s.blockNumber=t[8]),n&512&&(s.beep=t[9]),e.$set(s)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function Pe(r){let e,l,t=r[20]==r[8]&&Fe(r);return{c(){t&&t.c(),e=T()},l(n){t&&t.l(n),e=T()},m(n,s){t&&t.m(n,s),k(n,e,s),l=!0},p(n,s){n[20]==n[8]?t?(t.p(n,s),s&288&&y(t,1)):(t=Fe(n),t.c(),y(t,1),t.m(e.parentNode,e)):t&&(Y(),w(t,1,1,()=>{t=null}),G())},i(n){l||(y(t),l=!0)},o(n){w(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function Yt(r){let e,l;return e=new ze({}),{c(){j(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p:b,i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function Ie(r){let e,l,t=r[2].length+"",n,s,o,c,i,u,a,f,h,M,F,D,p=r[7]>1&&Ne(r);return{c(){e=I("p"),l=g("You will be shown a string of "),n=g(t),s=g(" digits, "),o=g(r[2]),c=g(`, and the
             computer will start counting down until you start.
             Once the countdown has completed and the screen turns green,
             type `),i=g(r[2]),u=g(` over and over as quickly and accurately as possible.
             You will have `),a=g(r[3]),f=g(" seconds to type "),h=g(r[2]),M=g(" as many times as possible."),F=Q(),p&&p.c(),D=T()},l(S){e=N(S,"P",{});var P=E(e);l=v(P,"You will be shown a string of "),n=v(P,t),s=v(P," digits, "),o=v(P,r[2]),c=v(P,`, and the
             computer will start counting down until you start.
             Once the countdown has completed and the screen turns green,
             type `),i=v(P,r[2]),u=v(P,` over and over as quickly and accurately as possible.
             You will have `),a=v(P,r[3]),f=v(P," seconds to type "),h=v(P,r[2]),M=v(P," as many times as possible."),P.forEach(_),F=X(S),p&&p.l(S),D=T()},m(S,P){k(S,e,P),m(e,l),m(e,n),m(e,s),m(e,o),m(e,c),m(e,i),m(e,u),m(e,a),m(e,f),m(e,h),m(e,M),k(S,F,P),p&&p.m(S,P),k(S,D,P)},p(S,P){P&4&&t!==(t=S[2].length+"")&&z(n,t),P&4&&z(o,S[2]),P&4&&z(i,S[2]),P&8&&z(a,S[3]),P&4&&z(h,S[2]),S[7]>1?p?p.p(S,P):(p=Ne(S),p.c(),p.m(D.parentNode,D)):p&&(p.d(1),p=null)},d(S){S&&_(e),S&&_(F),p&&p.d(S),S&&_(D)}}}function Ne(r){let e,l,t,n,s,o;return{c(){e=I("p"),l=g(`Stop when the screen turns red again.
                 You will get `),t=g(r[4]),n=g(` seconds to rest before the next trial.
                 There will be `),s=g(r[5]),o=g(" trials in all.")},l(c){e=N(c,"P",{});var i=E(e);l=v(i,`Stop when the screen turns red again.
                 You will get `),t=v(i,r[4]),n=v(i,` seconds to rest before the next trial.
                 There will be `),s=v(i,r[5]),o=v(i," trials in all."),i.forEach(_)},m(c,i){k(c,e,i),m(e,l),m(e,t),m(e,n),m(e,s),m(e,o)},p(c,i){i&16&&z(t,c[4]),i&32&&z(s,c[5])},d(c){c&&_(e)}}}function Gt(r){let e,l,t,n,s,o,c=r[7]>0&&Ie(r);return{c(){e=I("p"),l=g("Place the fingers of your "),t=g(r[1]),n=g(` hand on the 1, 2, 3, and 4 keys
        at the top of your keyboard.`),s=Q(),c&&c.c(),o=T()},l(i){e=N(i,"P",{});var u=E(e);l=v(u,"Place the fingers of your "),t=v(u,r[1]),n=v(u,` hand on the 1, 2, 3, and 4 keys
        at the top of your keyboard.`),u.forEach(_),s=X(i),c&&c.l(i),o=T()},m(i,u){k(i,e,u),m(e,l),m(e,t),m(e,n),k(i,s,u),c&&c.m(i,u),k(i,o,u)},p(i,u){u&2&&z(t,i[1]),i[7]>0?c?c.p(i,u):(c=Ie(i),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null)},d(i){i&&_(e),i&&_(s),c&&c.d(i),i&&_(o)}}}function Rt(r){let e,l,t,n,s,o,c;const i=[Vt,Kt],u=[];function a(f,h){return f[0]?0:f[11]?1:-1}return~(n=a(r))&&(s=u[n]=i[n](r)),{c(){e=I("audio"),t=Q(),s&&s.c(),o=T(),this.h()},l(f){e=N(f,"AUDIO",{src:!0,id:!0,preload:!0}),E(e).forEach(_),t=X(f),s&&s.l(f),o=T(),this.h()},h(){Oe(e.src,l="beep.mp3")||d(e,"src",l),d(e,"id","mstbeep"),d(e,"preload","auto")},m(f,h){k(f,e,h),r[17](e),k(f,t,h),~n&&u[n].m(f,h),k(f,o,h),c=!0},p(f,[h]){let M=n;n=a(f),n===M?~n&&u[n].p(f,h):(s&&(Y(),w(u[M],1,1,()=>{u[M]=null}),G()),~n?(s=u[n],s?s.p(f,h):(s=u[n]=i[n](f),s.c()),y(s,1),s.m(o.parentNode,o)):s=null)},i(f){c||(y(s),c=!0)},o(f){w(s),c=!1},d(f){f&&_(e),r[17](null),f&&_(t),~n&&u[n].d(f),f&&_(o)}}}function At(r){return r>0}function Qt(r,e,l){let t,n,{running:s=!0}=e,{done:o}=e,{handedness:c="left"}=e,{sequence:i="41324"}=e,{onTime:u=30}=e,{offTime:a=30}=e,{blockCount:f=12}=e,{sessionId:h}=e,M,F,D=0;function p(q){l(7,D++,D),D==3&&l(10,F=mt(h,q))}let S=1;function P(){l(8,++S)}function C(){o()}function le(q){return q>=f}function A(q){Ce[q?"unshift":"push"](()=>{M=q,l(9,M)})}return r.$$set=q=>{"running"in q&&l(0,s=q.running),"done"in q&&l(16,o=q.done),"handedness"in q&&l(1,c=q.handedness),"sequence"in q&&l(2,i=q.sequence),"onTime"in q&&l(3,u=q.onTime),"offTime"in q&&l(4,a=q.offTime),"blockCount"in q&&l(5,f=q.blockCount),"sessionId"in q&&l(6,h=q.sessionId)},r.$$.update=()=>{r.$$.dirty&256&&l(12,t=S>1?30:10),r.$$.dirty&384&&l(11,n=At(D)&&!le(S))},[s,c,i,u,a,f,h,D,S,M,F,n,t,p,P,C,o,A]}class Xt extends W{constructor(e){super(),B(this,e,Qt,Rt,L,{running:0,done:16,handedness:1,sequence:2,onTime:3,offTime:4,blockCount:5,sessionId:6})}}function Zt(r){let e,l;return e=new Xt({props:{running:r[1],done:r[3],sessionId:r[0]}}),{c(){j(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const s={};n&2&&(s.running=t[1]),n&8&&(s.done=t[3]),n&1&&(s.sessionId=t[0]),e.$set(s)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function $t(r){let e,l,t,n,s;return{c(){e=I("p"),l=I("button"),t=g("Click to full-screen"),this.h()},l(o){e=N(o,"P",{slot:!0});var c=E(e);l=N(c,"BUTTON",{});var i=E(l);t=v(i,"Click to full-screen"),i.forEach(_),c.forEach(_),this.h()},h(){d(e,"slot","if_fullscreen_support")},m(o,c){k(o,e,c),m(e,l),m(l,t),n||(s=te(l,"click",function(){Ke(r[2])&&r[2].apply(this,arguments)}),n=!0)},p(o,c){r=o},d(o){o&&_(e),n=!1,s()}}}function xt(r){let e;return{c(){e=I("div"),this.h()},l(l){e=N(l,"DIV",{slot:!0,class:!0});var t=E(e);t.forEach(_),this.h()},h(){d(e,"slot","already_fullscreen"),d(e,"class","svelte-1ytfxng")},m(l,t){k(l,e,t)},p:b,d(l){l&&_(e)}}}function en(r){let e,l;return{c(){e=I("h1"),l=g("I'm sorry, you cannot use this browser for the task."),this.h()},l(t){e=N(t,"H1",{slot:!0});var n=E(e);l=v(n,"I'm sorry, you cannot use this browser for the task."),n.forEach(_),this.h()},h(){d(e,"slot","no_fullscreen_support")},m(t,n){k(t,e,n),m(e,l)},p:b,d(t){t&&_(e)}}}function tn(r){let e,l;return e=new Xe({props:{$$slots:{no_fullscreen_support:[en,({isFull:t,requestFullscreen:n,exitFullscreen:s})=>({1:t,2:n,3:s}),({isFull:t,requestFullscreen:n,exitFullscreen:s})=>(t?2:0)|(n?4:0)|(s?8:0)],already_fullscreen:[xt,({isFull:t,requestFullscreen:n,exitFullscreen:s})=>({1:t,2:n,3:s}),({isFull:t,requestFullscreen:n,exitFullscreen:s})=>(t?2:0)|(n?4:0)|(s?8:0)],if_fullscreen_support:[$t,({isFull:t,requestFullscreen:n,exitFullscreen:s})=>({1:t,2:n,3:s}),({isFull:t,requestFullscreen:n,exitFullscreen:s})=>(t?2:0)|(n?4:0)|(s?8:0)],default:[Zt,({isFull:t,requestFullscreen:n,exitFullscreen:s})=>({1:t,2:n,3:s}),({isFull:t,requestFullscreen:n,exitFullscreen:s})=>(t?2:0)|(n?4:0)|(s?8:0)]},$$scope:{ctx:r}}}),{c(){j(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,[n]){const s={};n&31&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function nn(r,e,l){let{sessionId:t}=e;return r.$$set=n=>{"sessionId"in n&&l(0,t=n.sessionId)},[t]}class ln extends W{constructor(e){super(),B(this,e,nn,tn,L,{sessionId:0})}}function sn(r){let e,l,t,n={ctx:r,current:null,token:null,hasCatch:!0,pending:un,then:cn,catch:on,value:8,error:7,blocks:[,,,]};return V(l=r[2],n),{c(){e=T(),n.block.c()},l(s){e=T(),n.block.l(s)},m(s,o){k(s,e,o),n.block.m(s,n.anchor=o),n.mount=()=>e.parentNode,n.anchor=e,t=!0},p(s,o){r=s,n.ctx=r,o&4&&l!==(l=r[2])&&V(l,n)||R(n,r,o)},i(s){t||(y(n.block),t=!0)},o(s){for(let o=0;o<3;o+=1){const c=n.blocks[o];w(c)}t=!1},d(s){s&&_(e),n.block.d(s),n.token=null,n=null}}}function rn(r){let e,l,t,n,s,o,c,i,u=r[1]&&r[3]&&qe(r);return{c(){e=I("h1"),l=g("Welcome to the Manoach Lab Task Portal!"),t=g(`
   Please enter your access token:
   `),n=I("input"),s=Q(),u&&u.c(),o=T()},l(a){e=N(a,"H1",{});var f=E(e);l=v(f,"Welcome to the Manoach Lab Task Portal!"),f.forEach(_),t=v(a,`
   Please enter your access token:
   `),n=N(a,"INPUT",{}),s=X(a),u&&u.l(a),o=T()},m(a,f){k(a,e,f),m(e,l),k(a,t,f),k(a,n,f),de(n,r[0]),k(a,s,f),u&&u.m(a,f),k(a,o,f),c||(i=te(n,"input",r[5]),c=!0)},p(a,f){f&1&&n.value!==a[0]&&de(n,a[0]),a[1]&&a[3]?u?u.p(a,f):(u=qe(a),u.c(),u.m(o.parentNode,o)):u&&(u.d(1),u=null)},i:b,o:b,d(a){a&&_(e),a&&_(t),a&&_(n),a&&_(s),u&&u.d(a),a&&_(o),c=!1,i()}}}function on(r){let e,l,t=r[7].message+"",n;return{c(){e=I("p"),l=g("Glitch! Error code 102. "),n=g(t),this.h()},l(s){e=N(s,"P",{class:!0});var o=E(e);l=v(o,"Glitch! Error code 102. "),n=v(o,t),o.forEach(_),this.h()},h(){d(e,"class","error")},m(s,o){k(s,e,o),m(e,l),m(e,n)},p(s,o){o&4&&t!==(t=s[7].message+"")&&z(n,t)},i:b,o:b,d(s){s&&_(e)}}}function cn(r){let e,l;return e=new ln({props:{sessionId:r[8].id}}),{c(){j(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const s={};n&4&&(s.sessionId=t[8].id),e.$set(s)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function un(r){let e;return{c(){e=g("Waiting for the go-ahead...")},l(l){e=v(l,"Waiting for the go-ahead...")},m(l,t){k(l,e,t)},p:b,i:b,o:b,d(l){l&&_(e)}}}function qe(r){let e,l,t={ctx:r,current:null,token:null,hasCatch:!0,pending:hn,then:fn,catch:an,value:6,error:7};return V(l=r[3],t),{c(){e=T(),t.block.c()},l(n){e=T(),t.block.l(n)},m(n,s){k(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e},p(n,s){r=n,t.ctx=r,s&8&&l!==(l=r[3])&&V(l,t)||R(t,r,s)},d(n){n&&_(e),t.block.d(n),t.token=null,t=null}}}function an(r){let e,l,t=r[7].message+"",n;return{c(){e=I("p"),l=g("Error validating token: "),n=g(t),this.h()},l(s){e=N(s,"P",{class:!0});var o=E(e);l=v(o,"Error validating token: "),n=v(o,t),o.forEach(_),this.h()},h(){d(e,"class","error")},m(s,o){k(s,e,o),m(e,l),m(e,n)},p(s,o){o&8&&t!==(t=s[7].message+"")&&z(n,t)},d(s){s&&_(e)}}}function fn(r){let e;function l(s,o){return s[6]?dn:_n}let t=l(r),n=t(r);return{c(){n.c(),e=T()},l(s){n.l(s),e=T()},m(s,o){n.m(s,o),k(s,e,o)},p(s,o){t===(t=l(s))&&n?n.p(s,o):(n.d(1),n=t(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){n.d(s),s&&_(e)}}}function _n(r){let e;return{c(){e=g("That is not a valid access token.")},l(l){e=v(l,"That is not a valid access token.")},m(l,t){k(l,e,t)},p:b,d(l){l&&_(e)}}}function dn(r){let e,l,t,n;return{c(){e=I("button"),l=g("Click to start the task!")},l(s){e=N(s,"BUTTON",{});var o=E(e);l=v(o,"Click to start the task!"),o.forEach(_)},m(s,o){k(s,e,o),m(e,l),t||(n=te(e,"click",r[4]),t=!0)},p:b,d(s){s&&_(e),t=!1,n()}}}function hn(r){let e,l;return{c(){e=I("em"),l=g("validating...")},l(t){e=N(t,"EM",{});var n=E(e);l=v(n,"validating..."),n.forEach(_)},m(t,n){k(t,e,n),m(e,l)},p:b,d(t){t&&_(e)}}}function mn(r){let e,l,t,n;const s=[rn,sn],o=[];function c(i,u){return i[2]?1:0}return e=c(r),l=o[e]=s[e](r),{c(){l.c(),t=T()},l(i){l.l(i),t=T()},m(i,u){o[e].m(i,u),k(i,t,u),n=!0},p(i,[u]){let a=e;e=c(i),e===a?o[e].p(i,u):(Y(),w(o[a],1,1,()=>{o[a]=null}),G(),l=o[e],l?l.p(i,u):(l=o[e]=s[e](i),l.c()),y(l,1),l.m(t.parentNode,t))},i(i){n||(y(l),n=!0)},o(i){w(l),n=!1},d(i){o[e].d(i),i&&_(t)}}}function kn(r,e,l){let t,n,s="";function o(){l(2,c=_t(s))}let c;function i(){s=this.value,l(0,s)}return r.$$.update=()=>{r.$$.dirty&1&&l(1,t=s&&s.trim().length>=3),r.$$.dirty&3&&l(3,n=ft(t,s))},[s,t,c,n,o,i]}class pn extends W{constructor(e){super(),B(this,e,kn,mn,L,{})}}export{pn as component};
